jQuery(document).ready(function(a){var b;a(".resumes").on("update_results",function(c,d,e){b&&b.abort();var f=a(this),g=f.find(".resume_filters"),h=f.find(".showing_resumes"),i=f.find(".resumes"),j=f.data("per_page"),k=f.data("orderby"),l=f.data("order"),m=f.data("featured");if(e?a(".load_more_resumes",f).addClass("loading"):(a(i).addClass("loading"),a("li.resume",i).css("visibility","hidden")),f.data("show_filters")){var n=g.find(":input[name^=search_categories]").map(function(){return a(this).val()}).get(),o="",p="",q=g.find(":input[name=search_keywords]"),r=g.find(":input[name=search_location]");q.val()!=q.attr("placeholder")&&(o=q.val()),r.val()!=r.attr("placeholder")&&(p=r.val());var s={action:"resume_manager_get_resumes",search_keywords:o,search_location:p,search_categories:n,per_page:j,orderby:k,order:l,page:d,featured:m,form_data:g.serialize()}}else var s={action:"resume_manager_get_resumes",search_categories:f.data("categories").split(","),search_keywords:f.data("keywords"),search_location:f.data("location"),per_page:j,orderby:k,order:l,featured:m,page:d};b=a.ajax({type:"POST",url:resume_manager_ajax_filters.ajax_url,data:s,success:function(b){if(b)try{b.indexOf("<!--WPJM-->")>=0&&(b=b.split("<!--WPJM-->")[1]),b.indexOf("<!--WPJM_END-->")>=0&&(b=b.split("<!--WPJM_END-->")[0]);var c=a.parseJSON(b);c.showing?a(h).show().html("").append("<span>"+c.showing+"</span>"+c.showing_links):a(h).hide(),c.html&&(e?a(i).append(c.html):a(i).html(c.html)),c.found_resumes&&c.max_num_pages!=d?a(".load_more_resumes",f).show().data("page",d):a(".load_more_resumes",f).hide(),a(i).removeClass("loading"),a(".load_more_resumes",f).removeClass("loading"),a("li.resume",i).css("visibility","visible"),f.trigger("updated_results",c)}catch(g){console.log(g)}}})}),a("#search_keywords, #search_location, #search_categories").change(function(){var b=a(this).closest("div.resumes");b.trigger("update_results",[1,!1])}).change(),a(".resume_filters").on("click",".reset",function(){var b=a(this).closest("div.resumes"),c=a(this).closest("form");return c.find(":input[name=search_keywords]").val(""),c.find(":input[name=search_location]").val(""),c.find(":input[name^=search_categories]").val(0),b.trigger("reset"),b.trigger("update_results",[1,!1]),!1}),a(".load_more_resumes").click(function(){var b=a(this).closest("div.resumes"),c=a(this).data("page");return c=c?parseInt(c):1,a(this).data("page",c+1),b.trigger("update_results",[c+1,!0]),!1}).show()});